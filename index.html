<!DOCTYPE html>
<!-- 4:17  -->
<html>
<head>
  <meta charset="UTF-8">
  <title>Cricket Score Overlay</title>
  <style>
    body {
      margin: 0;
      padding: 10px;
      background: black;
      color: white;
      font-family: Arial, sans-serif;
    }
    .scoreboard {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      text-align: center;
      font-size: 20px;
      font-weight: bold;
    }
    .left { text-align: left; }
    .center { text-align: center; }
    .right { text-align: right; }
  </style>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script>
    function fetchData() {
      const url = "https://docs.google.com/spreadsheets/d/1FUl5P--46Q7uzgUYEcmkVVdwzsRqTpad/gviz/tq?tqx=out:json&gid=658195036";
      
      fetch(url)
        .then(res => res.text())
        .then(text => {
          // Strip Google wrapper
          const json = JSON.parse(text.substring(47, text.length - 2));
          
          let data = {};
          json.table.rows.forEach(row => {
            if (row.c[0] && row.c[1]) {
              data[row.c[0].v] = row.c[1].v;
            }
          });

          // Now update UI
          document.getElementById("player1").textContent = data["Player 1"] || "";
          document.getElementById("player2").textContent = data["Player 2"] || "";
          document.getElementById("ticker").textContent = data["Ticker"] || "";
          document.getElementById("crr").textContent = "CRR: " + (data["CRR"] || "");
          document.getElementById("bowler").textContent = "Bowler: " + (data["Bowler"] || "");
          document.getElementById("thisover").textContent = "This Over: " + (data["This Over"] || "");
        });
    }

    setInterval(fetchData, 3000); // refresh every 3s
  </script>
</head>
<body onload="fetchData()">
  <div class="scoreboard">
    <div id="player1" class="right"></div>
    <div id="ticker" class="center"></div>
    <div id="bowler" class="left"></div>
    <div id="player2" class="right"></div>
    <div id="crr" class="center"></div>
    <div id="thisover" class="left"></div>
  </div>
</body>
</html>
