<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cricket Overlay</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: transparent;
      color: #fff;
    }

    .overlay {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 8px;
      padding: 10px 20px;
      background: rgba(0, 0, 0, 0.6);
      border-radius: 16px;
      max-width: 900px;
      margin: auto;
      font-size: clamp(14px, 2vw, 20px);
    }

    .left {
      text-align: left;
      font-weight: 600;
    }
    .center {
      text-align: center;
      font-weight: 700;
    }
    .right {
      text-align: right;
      font-weight: 600;
    }

    /* This Over Box */
    .over-box {
      display: flex;
      align-items: center;
      background: linear-gradient(180deg, rgba(40,40,40,0.95), rgba(15,15,15,0.9));
      border: 1px solid rgba(255,255,255,0.15);
      border-radius: 14px;
      padding: 6px 12px;
      font-weight: 600;
      max-width: 260px;
    }

    .over-text {
      color: #ffeb3b;
      margin-right: 6px;
      font-size: clamp(12px, 1.6vw, 16px);
      flex-shrink: 0; /* never shrink */
    }

    .balls-container {
      display: flex;
      gap: 4px;
      overflow-x: auto;
      white-space: nowrap;
      flex: 1;
      scrollbar-width: none;   /* Firefox */
      -ms-overflow-style: none; /* IE/Edge */
    }
    .balls-container::-webkit-scrollbar {
      display: none;  /* Chrome/Safari */
    }

    /* Ball styling + animation */
    @keyframes ballIn {
      from {
        opacity: 0;
        transform: translateY(10px) scale(0.8);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .ball {
      display: inline-block;
      min-width: 22px;
      padding: 4px 6px;
      border-radius: 50%;
      font-weight: 700;
      text-align: center;
      font-size: 14px;
      animation: ballIn 0.4s ease forwards;
    }

    /* Color codes */
    .dot { background: #777; color: #fff; }
    .run { background: #4caf50; color: #fff; }
    .four { background: #2196f3; color: #fff; }
    .six { background: #ff9800; color: #fff; }
    .wicket { background: #f44336; color: #fff; }
    .wide, .nb { background: #9c27b0; color: #fff; }
  </style>
</head>
<body>
  <div class="overlay">
    <div class="left" id="player1">Player 1</div>
    <div class="center" id="ticker">TICKER</div>
    <div class="right" id="bowler">Bowler</div>

    <div class="left" id="player2">Player 2</div>
    <div class="center" id="crr">CRR</div>
    <div class="right">
      <div class="over-box">
        <span class="over-text">This Over:</span>
        <div class="balls-container" id="balls"></div>
      </div>
    </div>
  </div>

  <script>
    // Example ball classifier
    function ballClass(b) {
      if (b === "W") return "wicket";
      if (b === "4") return "four";
      if (b === "6") return "six";
      if (b.toLowerCase() === "wd") return "wide";
      if (b.toLowerCase() === "nb") return "nb";
      if (b === "0") return "dot";
      return "run";
    }

    // Example ball formatter
    function formatBall(b) {
      return `<span class="ball ${ballClass(b)}">${b}</span>`;
    }

    // Simulated data fetch
    function updateOverlay() {
      // Example data (replace with Google Sheets fetch)
      const data = {
        "Player 1": "M Umer* 200(95)",
        "Player 2": "Ali 45(30)",
        "Ticker": "RAPTORS 301/4 (10.1/15) vs ALL STARS",
        "Bowler": "J Khan 3-0-25-1",
        "CRR": "CRR: 9.5",
        "This Over": "0 1 4 6 W 2 wd nb"
      };

      document.getElementById("player1").textContent = data["Player 1"];
      document.getElementById("player2").textContent = data["Player 2"];
      document.getElementById("ticker").textContent = data["Ticker"];
      document.getElementById("bowler").textContent = data["Bowler"];
      document.getElementById("crr").textContent = data["CRR"];

      const ballsEl = document.getElementById("balls");
      if (data["This Over"]) {
        const balls = data["This Over"].split(" ").filter(x => x.trim() !== "");
        ballsEl.innerHTML = balls.map(formatBall).join(" ");

        // Auto-scroll to latest ball
        ballsEl.scrollTo({
          left: ballsEl.scrollWidth,
          behavior: "smooth"
        });
      } else {
        ballsEl.innerHTML = "";
      }
    }

    // Update every 2s (demo)
    setInterval(updateOverlay, 2000);
    updateOverlay();
  </script>
</body>
</html>
